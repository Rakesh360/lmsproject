{% extends 'EasyHireApp/administrator/base.html' %}
{% block content %}
{% load static %}

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.4/jspdf.plugin.autotable.min.js"></script>

<style type="text/css">
	.highlight_lazy {
		border-bottom: 0.1em solid orange;
	}

	.highlight_adverb {
		border-bottom: 0.1em dotted green;
	}

	.highlight_bad {
		background-color: #ffccbc;
	}

	.highlight_cliche {
		border-bottom: 0.1em dotted orange;
	}

	.highlight_hedge {
		border-bottom: 0.1em solid yellow;
	}

	.highlight_names {
		border-bottom: 0.1em solid green;
	}

	.highlight_passive {
		border-bottom: 0.1em dotted blue;
	}

	.highlight_stopwords {
		border-bottom: 0.1em dotted black;
	}

	.highlight_hard_word {
		background-color: #efebe9;
	}

	.highlight_profanity {
		border-bottom: 0.1em dotted red;
	}

	.highlight_buzzwords {
		border-bottom: 0.1em solid black;
	}

	.highlight_warn {
		background-color: #fff9c4;
	}

	.highlight_long_word {
		background-color: #bdbdbd;
	}

	.highlight_spelling {
		border-bottom: 0.1em solid red;
	}

	.highlight_grammar {
		border-bottom: 0.1em solid blue;
	}

	.personality-choice-highlight-0 {
		background-color: #e57373;
	}

	.personality-choice-highlight-2 {
		background-color: #fff176;
	}

	.personality-choice-highlight-5 {
		background-color: #81c784;
	}

	.video-link {
		display: none;
	}
</style>

<div class="row" style="padding:1em;">

	<div class="col s12">


		<ul class="collapsible">
			<!-- Applicant Details Section Started -->
			<li>
				<div class="collapsible-header"><i class="material-icons">person</i>Applicant Details</div>
				<div class="collapsible-body">
					<div class="row">
						<div class="col s12 m12 l10">
							{% if applicant_obj.name %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Name: </b> {{ applicant_obj.name }}
							</div>
							{% endif %}
							{% if applicant_obj.email_id %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Email Id: </b> <a
									href="mailto:{{ applicant_obj.email_id }}">{{ applicant_obj.email_id }}</a>
							</div>
							{% endif %}
							{% if applicant_obj.phone_number %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Contact Number: </b> {{ applicant_obj.phone_number }}
							</div>
							{% endif %}
							{% if applicant_obj.gender %}
                              				<div class="input-field col s6">
                                				<b>Gender: </b> {{ applicant_obj.get_gender_title }}
                              				</div>
                           				{% endif %}
							{% if applicant_obj.dob %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant DOB: </b> {{ applicant_obj.dob }}
							</div>
							{% endif %}
							{% if applicant_obj.college_name %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant College: </b> {{ applicant_obj.college_name }}
							</div>
							{% endif %}
							{% if applicant_obj.year_of_passing %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Year Of Passing: </b> {{ applicant_obj.year_of_passing }}
							</div>
							{% endif %}
							{% if applicant_obj.stream %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Stream: </b> {{ applicant_obj.stream }}
							</div>
							{% endif %}
							{% if applicant_obj.location %}
							<div class="input-field col s6">
								<b>Location: </b> {{ applicant_obj.location }}
							</div>
							{% endif %}
							{% if applicant_obj.percentage %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Percentage: </b> {{ applicant_obj.percentage }} %
							</div>
							{% endif %}
							{% if applicant_obj.hiring_process %}
							<div class="input-field col s12 m12 l6">
								<b>Applicant Hiring Process: </b> {{ applicant_obj.hiring_process.title }}
							</div>
							{% endif %}
							{% if applicant_obj.id_proof_adhaar_number %}
							<div class="input-field col s12 m12 l6">
								<b>Adhaar Number: </b> {{ applicant_obj.id_proof_adhaar_number }}
							</div>
							{% endif %}
							{% if applicant_obj.id_proof_pan_number %}
							<div class="input-field col s12 m12 l6">
								<b>Pan Number: </b> {{ applicant_obj.id_proof_pan_number }}
							</div>
							{% endif %}
							{% if applicant_obj.date_joined %}
							<div class="input-field col s12 m12 l6">
								<b>Registration Date: </b> {{ applicant_obj.date_joined }}
							</div>
							{% endif %}
							{% if applicant_obj.category %}
							<div class="input-field col s12 m12 l6">
								{% if applicant_obj.category == "1" %}
								<b>Category: </b> Campus
								{% elif applicant_obj.category == "2" %}
								<b>Category: </b> Walk-In
								{% else %}
								<b>Category: </b> Posting
								{% endif %}
							</div>
							{% endif %}
							{% if applicant_obj.event %}
							<div class="input-field col s12 m12 l6">
								<b>Event: </b> {{ applicant_obj.event.name }}
							</div>
							{% endif %}
							{% if applicant_obj.resume %}
							<div class="input-field col s12 m12 l6">
								<b>Resume: </b> <a href="/files/{{ applicant_obj.resume }}" target="_blank"><i
										class="material-icons inline-icon">attach_file</i> Attached file</a>
							</div>
							{% endif %}
							{% if applicant_obj.current_company %}
							<div class="input-field col s12 m12 l6">
								<b>Current Company: </b> {{ applicant_obj.current_company }}
							</div>
							<div class="input-field col s12 m12 l6">
								<b>Current Designation: </b> {{ applicant_obj.current_designation }}
							</div>
							<div class="input-field col s12 m12 l6">
								<b>Current CTC: </b> {{ applicant_obj.current_ctc }}
							</div>  
							{% endif %}
						</div>
						{% if applicant_obj.image %}
						<div class="col s12 m12 l2">
							<img src="{{ applicant_obj.image.url }}" class="right">
						</div>
						{% endif %}
					</div>
				</div>
				<table class="table-applicant-details" id="table-applicant-details" style="display: none;">
					<thead>
						<tr>
							<th colspan="2">Applicant Details</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							{% if applicant_obj.name %}
							<td>
								<b>Applicant Name: </b> {{ applicant_obj.name }}
							</td>
							{% endif %}
							{% if applicant_obj.email_id %}
							<td>
								<b>Applicant Email Id: </b> {{ applicant_obj.email_id }}
							<td>
								{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.phone_number %}
							<td>
								<b>Applicant Contact Number: </b> {{ applicant_obj.phone_number }}
							</td>
							{% endif %}
							{% if applicant_obj.gender %}
							<td>
								<b>Gender: </b> {{ applicant_obj.get_gender_title }}
							</td>
							{% else %}
							<td>
								<b>Gender: </b> N/A
							</td>
							{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.dob %}
							<td>
								<b>Applicant DOB: </b> {{ applicant_obj.dob }}
							</td>
							{% else %}
							<td>
								<b>Applicant DOB: </b> N/A
							</td>
							{% endif %}
							{% if applicant_obj.college_name %}
							<td>
								<b>Applicant College: </b> {{ applicant_obj.college_name }}
							</td>
							{% else %}
							<td>
								<b>Applicant College: </b> N/A
							</td>
							{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.year_of_passing %}
							<td>
								<b>Applicant Year Of Passing: </b> {{ applicant_obj.year_of_passing }}
							</td>
							{% else %}
							<td>
								<b>Applicant Year of Passing: </b> N/A
							</td>
							{% endif %}
							{% if applicant_obj.stream %}
							<td>
								<b>Applicant Stream: </b> {{ applicant_obj.stream }}
							</td>
							{% else %}
							<td>
								<b>Applicant Stream: </b> N/A
							</td>
							{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.location %}
							<td>
								<b>Location: </b> {{ applicant_obj.location }}
							</td>
							{% else %}
							<td>
								<b>Location: </b> N/A
							</td>
							{% endif %}
							{% if applicant_obj.percentage %}
							<td>
								<b>Applicant Percentage: </b> {{ applicant_obj.percentage }} %
							</td>
							{% else %}
							<td>
								<b>Applicant Percentage: </b> N/A
							</td>
							{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.hiring_process %}
							<td>
								<b>Applicant Hiring Process: </b> {{ applicant_obj.hiring_process.title }}
							</td>
							{% else %}
							<td>
								<b>Applicant Hiring Process: </b> N/A
							</td>
							{% endif %}
							{% if applicant_obj.id_proof_adhaar_number %}
							<td>
								<b>Adhaar Number: </b> {{ applicant_obj.id_proof_adhaar_number }}
							</td>
							{% else %}
							<td>
								<b>Adhaar Number: </b> N/A
							</td>
							{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.id_proof_pan_number %}
							<td>
								<b>Pan Number: </b> {{ applicant_obj.id_proof_pan_number }}
							</td>
							{% else %}
							<td>
								<b>Pan Number: </b> N/A
							</td>
							{% endif %}
							{% if applicant_obj.date_joined %}
							<td>
								<b>Registration Date: </b> {{ applicant_obj.date_joined }}
							</td>
							{% else %}
							<td>
								<b>Registration Date: </b> N/A
							</td>
							{% endif %}
						</tr>
						<tr>
							{% if applicant_obj.category %}
							<td>
								{% if applicant_obj.category == "1" %}
								<b>Category: </b> Campus
								{% elif applicant_obj.category == "2" %}
								<b>Category: </b> Walk-In
								{% else %}
								<b>Category: </b> Posting
								{% endif %}
							</td>
							{% else %}
							<td>
								<b>Category: </b> N/A
							</td>
							{% endif %}
							{% if applicant_obj.event %}
							<td>
								<b>Event: </b> {{ applicant_obj.event.name }}
							</td>
							{% else %}
							<td>
								<b>Event: </b> N/A
							</td>
							{% endif %}
						</tr>
						{% if applicant_obj.current_company %}
						<tr>
							<td>
								<b>Current Company: </b> {{ applicant_obj.current_company }}
							</td>
							<td>
								<b>Current Designation: </b> {{ applicant_obj.current_designation }}
							</td>
						</tr>
						<tr>
							<td>
								<b>Current CTC: </b> {{ applicant_obj.current_ctc }}
							</td>
						</tr>
						{% endif %}
					</tbody>
				</table>
			</li>
			</ul>
			<!-- Applicant Details Section Ended -->

			<!-- Applicant Quiz Section Started -->
			<ul class="collapsible" >
			{% if attempted_quiz_status_objs %}
			<li>
				<div class="collapsible-header"><i class="material-icons">assignment</i>Quiz
				</div>
				<div class="collapsible-body">
					{% for attempted_quiz_status in attempted_quiz_status_objs %}
					<div class="row">
						<div class="col s12 global-attempted-quiz"
							onclick="load_quiz_result('{{ applicant_obj.pk }}', '{{ attempted_quiz_status.pk }}')"
							style="cursor:pointer;">
							<h6 class="orange-text text-darken-4" style="text-align: left;">
								<span id="quiz-title-{{ attempted_quiz_status.pk }}"  style="font-size: x-large;">{{ attempted_quiz_status.quiz.title }}  {%if attempted_quiz_status.is_deleted %} | De-assigned | {{attempted_quiz_status.is_deleted_date_time}} {% endif%}</span>
								<span class="orange-text text-darken-4" style="float:right;padding-top: 0em;">
									<i class="material-icons">access_time</i> {% if attempted_quiz_status.completion_date %}{{ attempted_quiz_status.completion_date }}{% else %} NA {% endif %}
								</span>
							</h6>
							<a href="#" style="display: none;margin-top: 0.3em;" class="btn green white-text tooltipped right" data-position="bottom"
								data-tooltip="Download Quiz Report" id="btn-download-quiz-report-{{attempted_quiz_status.id}}"
								onclick="download_div('{{attempted_quiz_status.id}}')"><i
									class="material-icons inline-icon">cloud_download</i></a>
							<hr>
						</div>
						<div id="attempted-quiz-preloader-{{ attempted_quiz_status.pk }}" align="center"
							style="display:none;">
							<img src="{% static 'EasyHireApp/img/microsoft-preloader.svg' %}" style="padding:1em;">
						</div>

                        <div id="attempted-quiz-timings-content-{{ attempted_quiz_status.pk }}"></div>
						<div class="modal" id="modal-session-info-{{ attempted_quiz_status.pk }}"></div>

						<div id="attempted-quiz-result-content-{{ attempted_quiz_status.pk }}"></div>
						<div id="hidden-attempted-quiz-result-content-{{ attempted_quiz_status.pk }}"></div>
					</div>
					<table id="table-brief-result-{{attempted_quiz_status.pk}}" style="display: none;">
						<thead>
							<tr>
								<th colspan="2">Applicant Brief Result</th>
							</tr>
						</thead>
						<tbody id="tbody-brief-result-objective-{{attempted_quiz_status.pk}}">
						</tbody>
						<tbody id="tbody-brief-result-descriptive-{{attempted_quiz_status.pk}}">
						</tbody>
						<tbody id="tbody-brief-result-video-{{attempted_quiz_status.pk}}">
						</tbody>
					</table>
                    {% if attempted_quiz_status.get_quiz_start_time != "N/A" or attempted_quiz_status.get_completion_date != "N/A" %}

					{% if "SUB" in attempted_quiz_status.quiz.type_of_questions %}
					<div class="row" id="quiz-question-list-{{attempted_quiz_status.pk}}" style="display: none;">
						<!-- <h5 class="orange-text text-darken-4"> -->
						<b>
							Descriptive Section - (Attempted {{ attempted_quiz_status.get_attempted_descriptive_problem|length }} out of {{ attempted_quiz_status.quiz.no_of_questions.SUB }})
						</b>
						<!-- </h5> -->
						<hr>
						<!--<ul class="collapsible">
								{% for attempted_problem in attempted_quiz_status.get_attempted_descriptive_problem %}
									<li>
										<div class="collapsible-header" onclick="load_descriptive_section_text_analysis('{{ attempted_problem.pk }}')"><i class="material-icons inline-icon">chevron_right</i>{{ attempted_problem.problem.description|safe }}</div>
										<div class="collapsible-body" id="div-text-analysis-descriptive-section-{{ attempted_problem.pk }}">
										</div>
	    							</li>
								{% endfor %}	
							</ul>-->
						<ul class="collapsible">
							{% if attempted_quiz_status.get_attempted_descriptive_problem.count > 0 %}
							<div class="collapsible-header" id="div-descriptive-section-{{attempted_quiz_status.id}}">
								Applicant Percentage:&nbsp;
								{% with attempted_quiz_status.generate_quiz_description_result as applicant_percentage %}
								{% ifequal applicant_percentage -1 %}
								<i class="material-icons tooltipped" style="color: red;" data-position="bottom"
									data-tooltip="Evaluate all the questions of the section to get final percentage">error_outline</i>
								{% else %}
								{% if attempted_quiz_status.is_deleted %}
								{{attempted_quiz_status.get_percentage}} %
								{% else %}
								{{applicant_percentage}} %
								{%endif %}
								{% endifequal %}
								{% endwith %}
							</div>
							<div id="applicant-descriptive-percentage-{{attempted_quiz_status.pk}}" style="display: none;">
							   {% with attempted_quiz_status.generate_quiz_description_result as applicant_percentage %}
							   {% ifequal applicant_percentage -1 %}
								   Evaluation Pending
							   {% else %}
								   {{applicant_percentage}} %
							   {% endifequal %}
							   {% endwith %}
						   	</div>
							{% endif %}
													  
							{% for attempted_problem in attempted_quiz_status.get_attempted_descriptive_problem %}
								{% if attempted_problem.quiz_status.pk == attempted_quiz_status.pk %}
								<li>
									<div class="collapsible-header"
										onclick="load_descriptive_section_text_analysis('{{ attempted_problem.pk }}','{{ attempted_quiz_status.pk }}', '{{ applicant_obj.pk }}')">
										<i
											class="material-icons inline-icon">chevron_right</i>{{ attempted_problem.problem.remove_rtf_tags }}
									</div>
									<div class="collapsible-body"
										id="div-text-analysis-descriptive-section-{{ attempted_problem.pk }}">
									</div>
								</li>
								{% endif %}
							{% endfor %}
							
							   
						<!-- {% if attempted_quiz_status.is_deleted  %}
							{% for attempted_problem in attempted_quiz_status.get_attempted_descriptive_problem_from_admin_objects %}
							<li>
								<div class="collapsible-header"
									onclick="load_descriptive_section_text_analysis('{{ attempted_problem.pk }}','{{ attempted_quiz_status.pk }}', '{{ applicant_obj.pk }}')">
									<i
										class="material-icons inline-icon">chevron_right</i>{{ attempted_problem.problem.remove_rtf_tags }}
								</div>
								<div class="collapsible-body"
									id="div-text-analysis-descriptive-section-{{ attempted_problem.pk }}">
								</div>
							</li>
							{% endfor %}
							
							

							{% else %}

							{% for attempted_problem in attempted_quiz_status.get_attempted_descriptive_problem %}
							<li>
								<div class="collapsible-header"
									onclick="load_descriptive_section_text_analysis('{{ attempted_problem.pk }}','{{ attempted_quiz_status.pk }}', '{{ applicant_obj.pk }}')">
									<i
										class="material-icons inline-icon">chevron_right</i> {{ attempted_problem.problem.remove_rtf_tags }}
								</div>
								<div class="collapsible-body"
									id="div-text-analysis-descriptive-section-{{ attempted_problem.pk }}">
								</div>
							</li>
							{% endfor %}
						{% endif %} -->


							{% if attempted_quiz_status.get_attempted_descriptive_problem|length != attempted_quiz_status.quiz.no_of_questions.SUB %}
								<li>
									<div class="collapsible-header">
										<i class="material-icons inline-icon">info_outline</i>
										{% if not attempted_quiz_status.is_completed %}
										Currently quiz is not yet submitted. Please wait for the complete result.
										{% else  %}
											{% if attempted_quiz_status.get_attempted_descriptive_problem|length == 0 %}
												Applicant could not attempt any question, as the quiz time was completed.
											{% else %}
												Applicant could not attempt the remaining questions, as the quiz time was completed.
											{% endif %}
										{% endif %}
									</div>
								</li>
							{% endif %}

							<table class="table-descriptive"
								id="table-descriptive-problems-{{attempted_quiz_status.pk}}" style="display: none;">
								<thead>
									<tr>
										<th colspan="2">Descriptive Problems</th>
									</tr>
								</thead>
								<tbody>
									{% for attempted_problem in attempted_quiz_status.get_attempted_descriptive_problem %}
									<tr>
										<td colspan="2">Question No. {{forloop.counter}}</td>
									</tr>
									<tr>
										<th><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Problem Description</b></th>
										<td>{{ attempted_problem.problem.remove_rtf_tags }}</td>
									</tr>
									<tr>
										<th><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Solution</b></th>
										<td>{{ attempted_problem.problem.solution }}</td>
									</tr>
									<tr>
										<th><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applicant Answer</b></th>
										<td>{{ attempted_problem.answer }}</td>
									</tr>
									<tr>
										<th><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applicant Percentage</b></th>
										
										<td id="problem-percentage-{{attempted_problem.pk}}">{{ attempted_problem.get_descriptive_percentage }}</td>
									</tr>
									<tr>
										<th>&nbsp;</th>
										<td>&nbsp;</th>
									</tr>
									{% endfor %}
								</tbody>
							</table>
						</ul>
					</div>
					{% endif %}
                                     
					{% if "VID" in attempted_quiz_status.quiz.type_of_questions %}
					<div class="row" id="quiz-video-list-{{attempted_quiz_status.pk}}" style="display: none;">
						<!-- <h5 class="orange-text text-darken-4"> -->
						<b>
							Video Section - (Attempted {{ attempted_quiz_status.get_attempted_video_problem|length }} out of {{ attempted_quiz_status.quiz.no_of_questions.VID }})
						</b>
						<!-- </h5> -->
						<hr>
						<!--<ul class="collapsible">
								{% for attempted_problem in attempted_quiz_status.get_attempted_descriptive_problem %}
									<li>
										<div class="collapsible-header" onclick="load_descriptive_section_text_analysis('{{ attempted_problem.pk }}')"><i class="material-icons inline-icon">chevron_right</i>{{ attempted_problem.problem.description|safe }}</div>
										<div class="collapsible-body" id="div-text-analysis-descriptive-section-{{ attempted_problem.pk }}">
										</div>
	    							</li>
								{% endfor %}	
							</ul>-->
						<!-- <textarea id="textarea1" placeholder="Reqruiters remark" class="materialize-textarea"></textarea> -->

						<ul class="collapsible">
							{% for attempted_problem in attempted_quiz_status.get_attempted_video_problem %}
							<li>
								<div class="collapsible-header" onclick="load_video_player('{{attempted_problem.pk}}',false)">
									<i
										class="material-icons inline-icon">chevron_right</i>{{ attempted_problem.problem.remove_rtf_tags }}
								</div>
								<div class="collapsible-body"
									id="div-video-player-{{ attempted_problem.pk }}">
									<p><b>Solution:&nbsp; </b> {% if attempted_problem.problem.solution is not None and attempted_problem.problem.solution != "" %} {{ attempted_problem.problem.solution  }} {% else %} Yet to be added {% endif  %}   </p>
									<p><b>Applicant Answer:</b></p>
									{% if attempted_problem.video_url %}
									<a href="/files/{{attempted_problem.video_url}}" class="video-link"></a>
									<video width="100%" height="240" type="video/webm" controls>
										Your browser doesn't support video player
									</video>
									{% else %}
										This question was either not answered or was skipped by the applicant.	
									{% endif %}
								</div>
							</li>
							{% endfor %}

							<li>
								<div class="collapsible-header" onclick="load_video_player('{{attempted_quiz_status.pk}}',true)">
									<i class="material-icons inline-icon">chevron_right</i>Consolidated Video of the
									quiz
								</div>
								<div class="collapsible-body"
									id="div-consolidated-video-player-{{ attempted_quiz_status.pk }}">
									{% ifequal attempted_quiz_status.video "[]" %}
										Consolidated video will be processed during midnight. Kindly check the same tomorrow morning.
									{% else %}
										<a href="/files/{{ attempted_quiz_status.video }}" class="btn green white-text right tooltipped"
											data-tooltip="Download consolidated video" download>
											<i class="material-icons">file_download</i>
										</a>
										<a href="/files/{{attempted_quiz_status.video}}" class="video-link"></a>
										<video width="100%" height="240" type="video/webm" controls>
											Your browser doesn't support video player</video>
									{% endifequal %}
								</div>
							</li>
                            {% if attempted_quiz_status.get_attempted_video_problem|length != attempted_quiz_status.quiz.no_of_questions.VID %}
								<li>
									<div class="collapsible-header">
										<i class="material-icons inline-icon">info_outline</i>
										{% if not attempted_quiz_status.is_completed %}
										Currently quiz is not yet submitted. Please wait for the complete result.
										{% else %}
										{% if attempted_quiz_status.get_attempted_video_problem|length == 0 %}
											Applicant could not attempt any question, as the quiz time was completed.
										{% else %}
											Applicant could not attempt the remaining questions, as the quiz time was completed.
										{% endif %}
										{% endif %}
									</div>
								</li>
							{% endif %}
						</ul>
						<table class="table-video" id="table-video-problems-{{attempted_quiz_status.pk}}" style="display: none;">
							<thead>
								<tr>
									<th colspan="2">Video Problems</th>
								</tr>
								<tr>
									<th>Sr. No.</th>
									<th>Problem Description</th>
								</tr>
							</thead>
							<tbody id="tbody-video-problems-{{attempted_quiz_status.pk}}">
								{% for attempted_problem in attempted_quiz_status.get_attempted_video_problem %}
								<tr>
									<td>{{forloop.counter}}</td>
									<td>{{ attempted_problem.problem.remove_rtf_tags }}</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>

						<div id="attempted-quiz-remark-content-{{ attempted_quiz_status.pk }}">
						</div>

					</div>
					{% endif %}

                    {% endif %}   
					<div>
						{% for image in  attempted_quiz_status.image_list %}
							<img src="{{ image|cut:' '|slice:'1:-1' }}" style="height:10em; width:10em;"> 
						{% endfor %}
					</div>
					<br><hr><hr><br>
					{% endfor %}
				</div>
			</li>
			{% endif %}

			{% if attempted_quiz_status_deassigned_objs %}
			<li>
				<div class="collapsible-header">
					<i class="material-icons">assignment</i>Deassigned Quiz 
				
				</div>
				<div class="collapsible-body">
					{% for  attempted_quiz_status_deassigned_obj in attempted_quiz_status_deassigned_objs %}
	
						<div class="row" style="margin-top:20px">
							<div class="col s12 global-attempted-quiz" onclick="load_deassgined_result('{{attempted_quiz_status_deassigned_obj.pk}}')" style="cursor:pointer;">
								<h6 class="orange-text text-darken-4" style="text-align: left;">
									<span id="quiz-title-40" onclick="load_deassgined_result('{{attempted_quiz_status_deassigned_obj.pk}}' )" style="font-size: x-large;">{{attempted_quiz_status_deassigned_obj.quiz_name}} | De-assigned  | {{attempted_quiz_status_deassigned_obj.is_deleted_date_time}}  </span>
									<span class="orange-text text-darken-4" style="float:right;padding-top: 0em;">
										<i class="material-icons">access_time</i> | {{attempted_quiz_status_deassigned_obj.is_deleted_date_time}}
									</span>
								</h6>
								<a href="#" style="display: none;margin-top: 0.3em;" class="btn green white-text tooltipped right" data-position="bottom" data-tooltip="Download Quiz Report" id="btn-download-quiz-report-40" onclick="download_div('40')"><i class="material-icons inline-icon">cloud_download</i></a>
								<hr>
							</div>
							<div id="attempted-quiz-preloader-{{attempted_quiz_status_deassigned_obj.pk}}" align="center" style="display:none;">
								<img src="/static/EasyHireApp/img/microsoft-preloader.svg" style="padding:1em;">
							</div>
	
							<div id="attempted-quiz-timings-content-{{attempted_quiz_status_deassigned_obj.pk}}"></div>
							<div class="modal" id="modal-session-info-{{attempted_quiz_status_deassigned_obj.pk}}" tabindex="0"></div>
	
							<div id="attempted-quiz-result-content-{{attempted_quiz_status_deassigned_obj.pk}}"></div>
							<div id="hidden-attempted-quiz-result-content-{{attempted_quiz_status_deassigned_obj}}"></div>
						</div>
	
					{% if not attempted_quiz_status_deassigned_obj.is_blank  %}
						{% if attempted_quiz_status_deassigned_obj.get_single_choice_problem %}
						<h6 style=" text-decoration: underline;padding-top:20px !important;padding-bottom: 20px;">Single Choice Questions</h6>
						<table>
							<thead>
							  <tr>
								  <th>S.no</th>
								  <th>Question</th>
								  <th>Answer</th>
								  <th>Score </th>
							  </tr>
							</thead>
				   
							<tbody>
						{% for single_questions in attempted_quiz_status_deassigned_obj.get_single_choice_problem %}
							  <tr>
								<td>{{forloop.counter}}</td>
	
								<td>{{single_questions.question|safe}}</td>
								<td>{{single_questions.options}}</td>
								<td>{{single_questions.calculated_score}}</td>
							  </tr>
							  {% endfor %}
							  </tbody>
							  </table>
		  
							  {% endif %}


							  {% if attempted_quiz_status_deassigned_obj.get_multi_choice_problem %}
							  <h6 style=" text-decoration: underline; padding-top:20px !important;padding-bottom: 20px;">Multi Choice Questions</h6>
							  <table>
								  <thead>
									<tr>
										<th>S.no</th>
										<th>Question</th>
										<th>Answer</th>
										<th>Score </th>
									</tr>
								  </thead>
						 
								  <tbody>
							  {% for multi_questions in attempted_quiz_status_deassigned_obj.get_multi_choice_problem %}
									<tr>
									  <td>{{forloop.counter}}</td>
		  
									  <td>{{multi_questions.question|safe}}</td>
									  <td>{{multi_questions.options}}</td>
									  <td>{{multi_questions.calculated_score}}</td>
									</tr>
									{% endfor %}
									</tbody>
									</table>

									{% endif %}
				
	  



	
	
						<h6 class="m3 p3" style=" text-decoration: underline;padding-top:20px !important;padding-bottom: 20px;">Descriptive Questions -  {% if attempted_quiz_status_deassigned_obj.get_descriptive_percentage == -1 %} Not Evaluated {%  else %} {{attempted_quiz_status_deassigned_obj.get_descriptive_percentage}} % {%endif %} </h6>
						<table>
							<thead>
							  <tr>
								  <th>S.no</th>
								  <th>Question</th>
								  <th>Answer</th>
								  <th>Score </th>
							  </tr>
							</thead>
				   
							<tbody>
						{% for descriptive_questions in attempted_quiz_status_deassigned_obj.get_attempted_descriptive_problem %}
							  <tr>
								<td>{{forloop.counter}}</td>
	
								<td>{{descriptive_questions.question|safe}}</td>
								<td>{{descriptive_questions.answer}}</td>
								<td> {% if descriptive_questions.calculated_score == -1.0 %} N/A {% else %}{{descriptive_questions.calculated_score}} {% endif%} </td>
							  </tr>
							  {% endfor %}
							  </tbody>
							  </table>
		  
						   
		  
							  <hr>
		  
							  <h6 style=" text-decoration: underline; padding-top:20px !important;padding-bottom: 20px;">Video Questions Remarks - {{attempted_quiz_status_deassigned_obj.get_remakrs}} </h6>
							  <table>
								  <thead>
									<tr>
										<th>S.no</th>
										<th>Question</th>
										<th>Video</th>
									   
									</tr>
								  </thead>
						 
								  <tbody>
									{% for video_questions in attempted_quiz_status_deassigned_obj.get_attempted_video_problem %}
									<tr>
									  <td>{{forloop.counter}}</td>
		  
									  <td>{{video_questions.question|safe}}</td>
									  <td>
										  {% if video_questions.video_url %}
										<video width="100%" height="200" type="video/webm" controls="" src="/files/{{video_questions.video_url}}">
											Your browser doesn't support video player
										</video>
										{% else %}
										<p>Not answered</p>
										{% endif %}
									  </td>
									 
									</tr>
									{% endfor %}
									</tbody>
								
									</table>
									
		 
					<div>
							<p>Image list </p>
							{% for image in attempted_quiz_status_deassigned_obj.get_image_list %}
							
								<img src="{{ image|cut:' '|slice:'1:-1' }}" style="height:10em; width:10em;"> 
							{% endfor %}
					
					</div>
					{% else %}

					<p style="text-align: center;">Applicant didn't attempted any question of the quiz.</p>

					{% endif %}
						{% endfor %}
					</div>
					
				</li>
			
			{% endif %}









			<!-- Applicant Group Discussion Section Started -->
			{% if attempted_group_discussion_result_objs %}
			<li>
				<div class="collapsible-header">
					<i class="material-icons">person_add</i>Group Discussion
				</div>
				<div class="collapsible-body">
					<div class="row">
						{% for attempted_group_discussion_result_obj in attempted_group_discussion_result_objs %}
						<div class="col s12">
							<div class="col s6">
								<h6>Group Name: {{ attempted_group_discussion_result_obj.group.group_name }}</h6>
							</div>
							<div class="col s6">
								<h6>Topic: {{ attempted_group_discussion_result_obj.group.topic.topic_name }}</h6>
							</div>
							<div class="col s12">
								<br>
								<textarea class="attempted-group-discussion-result"
									id="attempted-group-discussion-result-{{ attempted_group_discussion_result_obj.pk }}">{{ attempted_group_discussion_result_obj.group.topic.case_study|safe }}</textarea>
							</div>
							<div class="col s12">
								<div class="row">
									<div class="col s6">
										<p>Student Notes</p>
										<textarea disabled
											style="height:10em;">{{ attempted_group_discussion_result_obj.student_notes }}</textarea>
									</div>
									<div class="col s6">
										<p>Supervisor Comments</p>
										<textarea
											style="height:10em;">{{ attempted_group_discussion_result_obj.supervisor_comments }}</textarea>
									</div>
								</div>
							</div>
							<div class="col s12">
								<table>
									<thead>
										<tr>
											<th>Group Discussion Score</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>Communication Score</td>
											<td>{{ attempted_group_discussion_result_obj.get_communication_score }}</td>
										</tr>
										<tr>
											<td>Comprehension Analysis Score</td>
											<td>{{ attempted_group_discussion_result_obj.get_comprehension_analysis_score }}
											</td>
										</tr>
										<tr>
											<td>Ability Process Score</td>
											<td>{{ attempted_group_discussion_result_obj.get_ability_process_score }}
											</td>
										</tr>
										<tr>
											<td>Interpersonal Effectiveness Score</td>
											<td>{{ attempted_group_discussion_result_obj.get_interpersonal_effectiveness_score }}
											</td>
										</tr>
										<tr>
											<td>Overall Score</td>
											<td>{{ attempted_group_discussion_result_obj.get_overall_score }}</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="col s12">
								<hr>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
			</li>
			{% endif %}
			<!-- Applicant Group Discussion Section Ended -->

			<!-- Applicant Botathon Section Started -->
			{% if attempted_bot_objs %}
			<li>
				<div class="collapsible-header">
					<i class="material-icons">face</i>Botathon
				</div>
				<div class="collapsible-body">
				</div>
			</li>
			{% endif %}
			<!-- Applicant Botathon Section Ended -->

		</ul>


		{% if facial_analysis_list %}
		<div class="card-panel">
			<div class="row">
				<div class="col s12">
					<br>
					<h5 class="center orange-text text-darken-4">
						Facial Analysis</h5>
					<hr>
				</div>
				<div class="col s12">
					<table class="responsive-table">
						<thead>
							<tr>
								<th>Screenshot</th>
								<th class="tooltipped center" data-tooltip="Disgusted"><img
										src="/static/EasyHireApp/img/nauseated.png" style="height:4em; width:4em;">
									<br><span>Disgusted</span>
								</th>
								<th class="tooltipped center" data-tooltip="Angry"><img
										src="/static/EasyHireApp/img/angry.png" style="height:4em; width:4em;">
									<br><span>Angry</span>
								</th>
								<th class="tooltipped center" data-tooltip="Confused"><img
										src="/static/EasyHireApp/img/confused.png" style="height:4em; width:4em;">
									<br><span>Confused</span>
								</th>
								<th class="tooltipped center" data-tooltip="Sad"><img
										src="/static/EasyHireApp/img/disappointed.png" style="height:4em; width:4em;">
									<br><span>Sad</span>
								</th>
								<th class="tooltipped center" data-tooltip="Happy"><img
										src="/static/EasyHireApp/img/happy.png" style="height:4em; width:4em;">
									<br><span>Happy</span>
								</th>
								<th class="tooltipped center" data-tooltip="Fear"><img
										src="/static/EasyHireApp/img/fear.png" style="height:4em; width:4em;">
									<br><span>Fear</span>
								</th>
								<th class="tooltipped center" data-tooltip="Calm"><img
										src="/static/EasyHireApp/img/relieved.png" style="height:4em; width:4em;">
									<br><span>Calm</span>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td></td>
								<td>Count: {{ facial_emotion_count.DISGUSTED }}</td>
								<td>Count: {{ facial_emotion_count.ANGRY }}</td>
								<td>Count: {{ facial_emotion_count.CONFUSED }}</td>
								<td>Count: {{ facial_emotion_count.SAD }}</td>
								<td>Count: {{ facial_emotion_count.HAPPY }}</td>
								<td>Count: {{ facial_emotion_count.SURPRISED }}</td>
								<td>Count: {{ facial_emotion_count.CALM }}</td>
							</tr>
							{% for face_analysis in facial_analysis_list %}
							<tr>
								<td>
									<img src="https://s3.amazonaws.com/step-icici-careers/{{ face_analysis.screenshot }}"
										width="100em" height="80em">
								</td>
								<td>
									<div class="progress">
										<div class="determinate" style="width: {{ face_analysis.emotions.DISGUSTED }}%">
										</div>
									</div>
								</td>
								<td>
									<div class="progress">
										<div class="determinate red" style="width: {{ face_analysis.emotions.ANGRY }}%">
										</div>
									</div>
								</td>
								<td>
									<div class="progress">
										<div class="determinate" style="width: {{ face_analysis.emotions.CONFUSED }}%">
										</div>
									</div>
								</td>
								<td>
									<div class="progress">
										<div class="determinate orange"
											style="width: {{ face_analysis.emotions.SAD }}%">
										</div>
									</div>
								</td>
								<td>
									<div class="progress">
										<div class="determinate yellow darken-3"
											style="width: {{ face_analysis.emotions.HAPPY }}%">
										</div>
									</div>
								</td>
								<td>
									<div class="progress">
										<div class="determinate blue"
											style="width: {{ face_analysis.emotions.SURPRISED }}%">
										</div>
									</div>
								</td>
								<td>
									<div class="progress">
										<div class="determinate green"
											style="width: {{ face_analysis.emotions.CALM }}%">
										</div>
									</div>
								</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
		{% endif %}

	</div>
</div>



<div id="modal-add-to-group-discussion" class="modal" style="border:0.1em solid black;">
	<div class="modal-content">
		<div class="row">
			<div class="input-field col s12">
				<h6>Select Group<sup>*</sup></h6>
				<br>
				<select id="select-group-for-discussion">
					<option value="" disabled selected>Choose Group</option>
					{% for gr}oup_obj in group_objs %}
					<option value="{{ applicant_obj.pk }}_{{ group_obj.pk }}">
						{{ group_obj.group_name }}</option>
					{% endfor %}
				</select>
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<a href="javascript:void(0)" class="btn modal-close">Cancel</a>
		<a class="btn safe modal-close" id="btn-add-student-to-group-discussion">Add</a>
	</div>
</div>

<div id="modal-create-new-group" class="modal" style="border:0.1em solid black;">
	<div class="modal-content">
		<div class="row">
			<div class="input-field col s12">
				<div class="col s6">
					Group Name
					<input type="text" name="input-group-name" id="input-group-name">
				</div>
				<div class="col s12">
					<h6>Group Discussion Topics<sup>*</sup></h6>
					<br>
					<select id="select-group-discussion-topic">
						<option value="" disabled selected>Choose GD topic</option>
						{% for group_discussion_topic in group_discussion_topics %}
						<option value="{{ group_discussion_topic.pk }}">{{ group_discussion_topic.topic_name }}</option>
						{% endfor %}
					</select>
				</div>
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<a href="javascript:void(0)" class="btn modal-close">Cancel</a>
		<a class="btn safe modal-close" id="btn-create-group-for-discussion">Add</a>
	</div>
</div>

<script type="text/javascript">
	elements = document.getElementsByClassName("attempted-group-discussion-result");
	for (var i = 0; i < elements.length; i++) {
		CKEDITOR.replace(elements[i].id, {
			height: 300
		});
	}
	function download_div(div_id) {

		console.log(div_id, $('#' + div_id).html());
		var doc = new jsPDF();
		var specialElementHandlers = {
			'#editor': function (element, renderer) {
				return true;
			}
		};

		var imgData = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQERUTEhAVFhAXEBgWEBEQEBAVFRUYFREWFhUSFRUYHSghGBslHBcVIjEhKCorLi4uFyAzODMsNygtLisBCgoKDg0OGhAQGy0iHyUtLS0tLS0tLS0tLSstLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAJsBBAMBEQACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABgECAwUHBAj/xABREAABAwIDAgcJCQwJBQAAAAABAAIDBBEFEiEGMQcTFkFRcaEUIjI2c4GRsbMmMzVSYXKytLUXI0JTdIKDhJPF0dMIJCU0VIWSwcIVQ0ZixP/EABsBAQACAwEBAAAAAAAAAAAAAAABBAIDBQYH/8QANBEBAAIBAwMBBgUCBgMAAAAAAAECAwQFERIhMRMUIjNBUWEyUnGx8EKBFSMkNKHRJTWR/9oADAMBAAIRAxEAPwDuKAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgie3+0M9BHE6EMLnylruNa4iwY51xYjXRaM9+iOXR27R01N5rZCvul4h8Sn/Zy/wAxVp1k88cO3Ow4vlMn3S8Q+JT/ALOb+YntconYcX5pPul4h8Sn/ZzfzFHtcwn/AADFMcxaW/2X4ROPlZDURNY57g1kkbiWlx3NLXai50FidSAt2LU9XZz9ds84addZ5h0BW47uGie3+PVVCyKSBsZY6Qsk41r3WJF2EZXCw0cNechacuWaQ6O26THqbzS08I9s1wg1M1VFFO2ERSOLM0bJGkOLTk1LyLEgDd+EFoxanqnh0dZs9cWGb1mZ4dNV3l52YeXEK6OnjdLK8MjaLuc46DWw6ySQAN5JAUTMV7yzx47ZJitfLn2KcKBuRTU9280k7iL/ACiNutusg/IFTvrI+Tv6fYbWrzktw1sXCVXlzQWU9i9oNo5tMzgPj/Ksa6qZb8mx46V55lttr9t6ulq3wxNhLGsYQZGSF3fNubkPA3/ItmXPNZ4VtBtVM+KL2nhvNgNop6+OV0wYCyQNbxTXAasDtbk66rPDl66qO5aKultFaylEzrNJ5wCfQFvmYiHPrEzaHIWcJuIEA5KfUA+9zc48oufOrtHPD1MbDi4/FK77peIfEp/2c38xI1luCdhxx85SDYbbGqrakxTNiDBA54MTXg3D4wASXnSzjzdC34M3XLn7lttNLSLRPlIdqdp4KBgL7ulcDxcTbZnW5ydzW7tT2nRbcmSKKGj0N9Vbivj6uc1vCLiEhJYY4m30a2POR0Xc469dh1KnfVz8nosOy4Ij3u71YTwl1THAVEbJY/wjG3JINd4BJa7Tm061lj1X1atRseO0T6U8T9HTcKxOKqiEsL8zCNDzi29pB1BB5irtbxaOXnM2C2G3Rfy5lV8I9e2R7Qyns2RzReOa9mvLQTZ+/RUZ1cxL0eHY8V689UsX3S8Q+JT/ALOb+Yk6qWf+A4vzS2mE8KBuBUwANJsZYC45b85jOpA3mxJtuBW2mqiVXUbDNY6sU8/Z0anmbI1r2ODmOaHNc0gggi4II3iytRbl5+1Zi0xPaXNdo9vqynq5oo2Q5GSZW52SF3gNNyQ+2t+gaWVPLn6Z4eh0Wz482GMkzPdMdisafW0rZZMnGZ3te2MOAaWvIAsSTcix386s4snqRy5Gu0vs+WaQkC2KYgICAg57wwe80/lz7J6q6v8AC72w/Esg2yOGR1dWyCS+RzXk5HFp71txYj5VTwVi1u7u7jnvgwzeqVVeA4DE90clW9r2mz2md9weg6KzbHi5cjHrNxyV5rHb+fd58b2Xw4UElVSSyPybjxpc0kOAIII6Oi3MscmLFFeYZ6bX6r2mMWX5oZRG0sfTx8ftWqtjmOp3M/Nscxw+h5JA1pcTYAXJO4AC5J6F1+eIfPeOqemEQ2hxzD6+mfTMqozJIA2EXI++ZgYua/hhqr3yVvHDqabTajTZIyzXiI/ZyFr3NIc27ZGuBbfe1zXXHnBHYufE9NnsJpGSnf6PoPBq5tTBFM3dJG11tNMzQSDbnBuPMuvS3VHL5/nxTiyTWfk5hwp4s6WqFOD97hAJbzGR7bgnpswi3ziqOqvMzxD02x6WsUnNbzLRbM7Oy18pZGQ1rQDJK4EhtyQ0AAi7jYkC4FgbncDqxYpyeV/X62mmp37z9E/p+DGkbYumnLgQfCjAu0g7gzdcK3GkrDz197z3iYiIiEO4SPhKXycX0FX1PHU7ez99JHP3/dKeB73qo8uPZNVjScdDl7/x11mPu6BKBlN91tfQrM8ODTnqjhyxuE7O2/vrrW/Hv/gqXTg78vR11G5dPav8/wDqv/Sdnv8AGu/bv/gnThmGXtG6ccRX9v8Atu9kKPCYp3PpKgvl4l2YOkLrMzMLjqNNQ30rbhrjjwoa6+rvEVzx83NMZxR9XO+d5Pfu70E+CwaMYOYWFr9JJO8qhktN7PT6LTxp8UUSjZfg/fVRNmmlMbHtvGxjQXlp8Fxc4WaCNQLbiDfmVnFpomO7l6zevTvNaRzx82r2u2Ukw9zSX8ZC82ZJlsQ4C+R41FyASCN9joLa6s+Do7re37jGr5rPaYe/gxxZ0NXxJJ4qcEZb6CRjC4OHRdoINt/e9C2abJ8lbedLW2L1Y8w2FVhuz/GPzVjw/jHZxxrxZxcS4Wy9N1naMMyq4825dPu17fz7tpRbAYZURCSGWYscLseJT0kXAI6b7ws40+KYVr7tq8VuL+UE2rwF1BUGIuzMLc8UlrXaSQWm2mYEWNtCCDYXsKebF6cvQaDWTqsXVEcTHlMeCLFCRLSuOjbSwjXQOcRI0dADrG3S8q1pb8xw42/aatbxlj5+Xl4U8ALX92MHeODW1G+7SO9ZJ0WIs07rEN6TaNTi595nsusjj0Lf2aXYTaXuGfLIf6tIQJNfe3DRswHRbR3yWPNY6tPl6PdXt20Pr066eYdsBXSeNnsqgICAg57wwe80/lz7J6q6rw72w/EsifBx8JQ/Ml+gqum+I6+8f7W39v3eLa/+/wBV5c/QYsc/45bts/2tEkwzxeqPKP8AbNVivwJcrN/7Sv8APlKE0fvsfl4/aNVSnl3s0f5cux8IuI8Rh8gBs+W0LP0mjvQzOfMulmtxjeN2zB6uqrH07ub7A0HH4hCCLtZeVw6Axtmn/W5noVLT16snL0e75PS00xHz7Kbe4Z3NXSAeBJ9+Z+eTnHmeHG3Q4KdRTpvybPn9TBETPjymnBJiOenkgJ1iku0aeBLdwHy9/wAZ2Kzpbcxw42+YOjNGSPFkN4Q4XNxKe+53Fvb8oMTWX9LXDzKrqfdyfq7W0WidJWPnHKQcENaxr54nEB78j2A73AAtcB020Nuh1+lbtJaOHO3/ABWnotHju6er3aXmu89nFOEn4Sl8nH9BczVfEe02eP8AR14+/wC6U8D3vVR5ceyarGk8OVv083rz90+qB3jvmn1K1Lh4/wAcPm+I96Pmj1LjT5fRIj3YmfokFPsfiMjWvZSksc0Oa7joBcEAg2L76iy2xp8kx2hz7btpae7a3f8ARItjNla6GaUzQGNjqOSNrjJE7vnOYQLNcSNAdbW0W/BivXnmHL3DX4MsV6J54mJc9De8tuOW3VpYgj5CqfPFuXpI5mv9nfNlMViqqWN8ZGjQ17RvY5oAdGRzEH0ix3ELrY7R08vBa3BbHmtFoRfhZxGMQMp7gzPka/LztYwm7z0XNgL77m17FaNVkjo6XT2LBf1uuPEITsTCX4hTgc0jnHqbE4knsHWQqunjm8O5ud+jS3iWsrvfpfLye1csLx7y1hn/AC4h2fg8+Dabyf8AyK6WHiKvF7nH+qv/AD5IRwsYhHJUxRMN3RRu4wi2hkLSGH5QGXI/9gq2pvEzw7mwYbUra1u0St4JYHGskfbvW0xDj8r5Wlo8+R3oUaOPemyN+njHWHVqmBsjXMe0FjgWua4AggixBHOCFfmOzy1bTSeYcK2rwbuKqfCDeOwfETvyOzWa7pIIIv0AHnsuVlpNbPc7fqYz4Ou3l0bgtxN01IY3G7oX5Gm5vkLQ5l+oEt6mq9p79VHm9401ceXmniU1Vhye6qAgIOe8MHvNP5c+yequq8O9sXxLInwcfCUPzJfoKtpviOtvEx7Lb+37vDtf/f6ry5+g1Y549+W/bZj2WiS4Z4vVHlH+2at9fgS5Waf/AClf58pQmk99j8vH7RqqR+KHdy/DmU34W8QzTQwDdHGZHdBc+7WjzBr/APUFa1du8Q4mw4YrW+Sfn4RLB8Yno3ufAWte5uUudGHG2a9h0XNr9Nh0KvjyTTu6+p02LUcep34X41jtTWZTO5riy+QtjDSM1rg9I0HoS+Sb92Ol0mLTzPp9ufu2PB7iPc9fHc2ZKDE7fa7rOjPXmAA+cVs01pi/H1Vd5wxk088eapvwj7MOqmNnhbeeNpDmC15GE3IF/wAIG5HWRzhWs+Lq7uJtOu9nv038S5M1xa7Qlr2u5i5rmuB8xaQeohc6OaS9bPp5K8eYbyj2txFpY0VcmXO0WcInGxeAbktJOh6VvrnsoZtu0vEzFHo4R/hGXycX0E1Pe7HZ5iNNWP1/dqsLxyrpQ5sEzo2uOZwDYzcgZQbuaSNABzblrx5ZotZ9Hgz9718fdMNgtoqypqXxz1Dns7le4NcyId8HxtBu1oO4n0q1gy9XPLibno8OGtZx147udxC7R80epUrPSVmJrH6N9BtbiMbWsZVODGtDWtEcBAAAAFyy5sANTqtvtGSI7KFts0dp6rV7/qlXB3tFWVNW6Oed0kYp3OyuZGO+EkYBu1oO4n0qzpsl7ficndtHgw0icUcTy1vCHstJTyvqImE00ji+TLc8U86uLhvDCbkEaAk3sLLXqcPE9ULO07lWcfo3/F8vuiNNUyRkuikewkAF0Uj2ZgNwJaRmHWq0WtHeHYy4MeSOLRErHuc513FznucLlxc5zid2puSfSVE83nllWKYq9u0OqcHGyz6drqiduWZ7crGHfGy9zmHM5xAJHMGgaG4XQwYemOp5TddwjNaMdPEf8uYV/v0vl5PauVDJE9T1OCY9OJl7qbaOtjhEMdS9kIbZrWNjBAveweBm897rP1bVjhXyaDT5MnqTXvP3eCippKh+SJjpZCdzLuN3HUucdALm5JIG8krGKzbu3ZcuLBTm88RDsGyuz5w6kfc/1h7S+RwtYENOVjdNQ35d5JPPYdHHi6KPIavVTqs0fljw5tHtriZAPdj9QP8AtwdHzFSnUXjs9J/hek6Ynp/5aisq5JpC+V5fK46uda7uZrQAOjQADqC1Wm9l7HTHgp007Q69wb4I+lpSZWlssr85YdC1tg1jT8thcjmJtzLpafH00eO3XVRmy+54hLlvcxVAQEGrxylpJGDutsRjDu9M+TKHEEaF2l7XWNqxZtxZb4u9J4eSlwzDKbLUMjp4wfe5hxTQcwI71/PcX3FRFIhlk1eXJHF55WVuD4W/+sSxUxDyDxzxFleXbjnOhv16pOOGVdZlpHTFmcUmHspstoG0bze14xE7MQQb3sbkD0KYpDCdRk6uvnu8owLCWMbNxNKI7gsltEG6nvSHbt+7VYxio2W1uef6mWuwrDJR3RLHTua+33+TiiHaBre/Oh0AA1UzjrPljj1WakcRPDC7AMIEfGmCl4o7pLQ5NTYWdu36b1j6WP6M/btR+aQ4BhAj40wUvFc0losmpyizt2/TenpY/on27UfmlczBMJY0TiGmDAQWzARBoIdZpD9181gNd6yjFEMbazPaOJlue7oeL43jY+J/G8YzJ4WXwr236b96yVfn3a+vosOnZx8rKZ8e7j3iJzfCy24w6b9N+/RRNKy3U1GXH+G0vKzAcJDOOEFLxXNLaHJo7L4e7fpv36LH0qtk67Pb+qWatwzDZwaiWOne06Gd/FFuhygF500Om/fosppWWOLVZqRxE8MHJ/COL43iKXifxtocnhZT327fpv3rH0qMvb9Rz+KXooMPw2BpnhZTsZlLXTM4trbZgC0vGlswAtfeFMY6wwy6rNfzPLzt2fwgx8aIKXiRvkyw5BY2N3btDpv3p6dGz23PEfiG4BhBjMogpeKF7yAQ5BY2N3bhY6b1HpUPbs/5penDKDDoAZ4G07G2LXTx8WG2DgXAvGlrgXueZZRSseGvLny5I96eWxbXQOjMgmjMQvmkEjCwW0N3XsLLLy0d48I/VbMYPO10xjhyAnPLDMY2aeEXOjcB13Wq2GJXse46nHHFbvVgmD4ZTNM1O2ENbfNPxgflsO+vK4kgAb9VlXFFWvNrM+b4lm3jr4XMdI2aMxNvnkbIwsblHfXcDYWG/oWarw0wwLCZGulENM5gLjJKBEWi3fOLnDQW3m50WHpVW41ueO3UpBgOEOYZGQUro23zyBsLmNyi7sztwsNTfcFHpUJ1uef6pbSgkpWxF0LoRCy+YxGMRtygE3LdBYWus4hWte1vMsjayCWNzhLG+IAiRwexzAA27g5wNhYG5vzFTwiJmGmh2fwh7C9kFK6Nvhva2EtbYBxzOGgsCDrzFa5xUWvb8/5penC6DDWAy08dMA2+aWIRd7Zt3Xe3dobnXcVlFKw15M+a8d7NpSVkUwJikY9oNiY3tcAbA2uCbGxBt8oWTQ9KAgICDmfD+P7MZ+XRfQkTwhHtt2jkth+nPS9sT7/7qE9l+2IHJWi05qX6JUp7csW07RyTo9PwoO1zrpJHZl2gA5JU2nNT9s2qjiEd1McaOSNNp+I7ajX1pxAYi0cjodNLRdtaLoK1wHI6LTS0XbXi6DHK0cjI9NLt7cT1TuSvcByLGmlm38+Ki6kmFg8S/wA797p2O8eQD3Fef97qJ4T5Vt7iz5/tYpxCO66IDkW7qf2Ym6ymOE+FlOByNl053282I6KJiBkw0DkfNpzS281abJxCPK3CWjkhPp+N7KvROxPdds6BySqtOao7JdE4hM8mzgHJKq05qj2inlErNkmjkpW6c9R2ZbeoKO5MRK/Yoe5au6qr2YTvJxyxbBtHJfEdPwqrsp2fwU+CO3iWTg8aOTGJac1Z9Ub/AACdkqcHA9zOJ9VZ9TYnYU4NB7msU/XPs+NQhTgzHuaxX9b+zolMJmV/Bc0cnMTFtL1Wn+XxcyjsiVvBWBydxPTS1R24fHfROITPLcf0dh/Z8/5afq0KlDqqAgICDmnD/wDBkf5dF9CRBHdtvFbD+ul9m5QMu2HirRdVL6lIxbTeKdF86n+m5QMm0HijTdVP7YIlTHPFGm/QfWEQYj4nQ/ovroQVrvE6Lqi+vtQY5fEyPrZ9pILn+Jbepn2q1SLB4lfnfvhQmVR4l+c/a5QhX/wt3532sUF0XiW7qf8AablKFlP4my9b/tFQMmG+J83VN9dcpFuE+KFR+m+tqErtnfFKq6qj2qBs54pVfVUe0RCzZPxUruup/wCKC/YvxWr+qr+gEGLYTxXxHrqvYMRLLweeLGJdVb9VaiFvBx4sYn1Vn1NqCnBr4tYp+ufZ8aC3g08WsV/W/s6JSMnBd4uYn86q+z4VAt4KvF3E+qo+zokS2/8AR2+D5/yz/wCaBIQ6qpBAQEHM/wCkA4DDI7/46L6Eh9QKCO7bvHJbD9eel7In39RUDLtg4claLXmpexpv6ipGHad45J0ev4UHY51/UfQoGXaB45I02vNB2Ta+ooKY44ckabX8T2VGvqKJMRcOR0OulouytF/UUFa4jkdFrpaLsrxdEMcrhyMj10zN7MS19RRK5zhyLHRZt/NioupQtB9xX5374UJkv7ivP+90IVB9xR8/bixQXRuHIt2vM/txR1lIsp3DkbLrpd/OOfEdPWFAyYa4cj5ui0vbWm3rUoW4S4cj59fxvbV6esKErtnXjklVa81R2y6esIGzjhySqteao7ZNPWEFmyTxyUrdeeo7ctvWEF+xbhyVr9eaq7Yxb1hBi2DcOS+I6/hVXbTst6wiGTg7cDsxiVjzVn1Rp/3HpRKnBw4cmcT1/wAZ9SZ/EIKcGh9zWKfrn2fGiFODM+5rFf1v7OiUi/gucOTmJm+l6rX/AC+FQLOCsjk7iZvpao7MPjuiW5/o7H+z5/y0/VoEhDqqkEBAQYpoGvFnta4XvZzQRpuNjzoLXUsZaGFjSweC0taWi26wtYWQHU0ZaGFjSwbmlrcotusLWFkA0sZaGGNuQbm5W5RbdYWsLIBpYy3IWNyDczK3KLbrNtYIDqWMtyZG5OZmVuXQ3FhayAaWMtyZG5OZmVuXQ3Gm7fqgGljy5MjcnxMrcuhuO93b9UDuWPLkyNyfEyty77+Da2/XrQV7mjy5MjeL+Jlbl338G1t+vWgp3NHlyZG8X8TK3Lvvutbfr1oHc0eXJkbxfxMrcu+/g2tv160Fe5o8uTI3J8TK3Lvv4Nrb9etBTuaPLkyN4v4mVuXffwbW36oHcseXJkbk+Jlbl338G1t+qAKWPLkyN4vnZlbl1Nz3u7fqgCljy5MjeL52ZW5Tc3N22tvQBTRhuQMbkO9mVuU333FrFAFLGGlgY3Id7MrcpvvuLWKA2ljDSwMaGHe0NaGm++4tY3QG00YaWhjQw72hrcpvvuLWN0BtLGGlgY0MPhNDWhpvvuLWN0BlNGGloY0MPhNDWgG4sbgCxuEBlLGGloY0MPhNDWgG4sbgCxuEBlNG1pa1jQ0+E0NaAbixuBobhAZSxtaWtY0NPhNDWgG4sbgaG4QI6aNrS1rGhp8Joa0A3FjcDQ3FggR00bQWtY0NPhNa1oBuLG4Gh0sEFYIGRizGtaCbkNaAL2tew+QD0IMyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg//2Q=='
		doc.addImage(imgData, 'JPEG', 141, 5, 60, 25);

		doc.setFontSize(18);
		doc.setTextColor(40);
		doc.setFontStyle('bold');

		doc.text("Applicant Quiz Report Card", 15, 20);

		doc.setFontSize(18);
		doc.setTextColor(40);
		doc.setFontStyle('normal');

		doc.text($('#quiz-title-' + div_id).html(), 15, 40);

		doc.autoTable({
			html: '#table-applicant-details',
			columnStyles: {
				0: { cellWidth: 90 },
				1: { cellWidth: 91 },
			},
			margin: { top: 50 }
		});

		if($('#applicant-descriptive-percentage-'+div_id).length){
			$('#tbody-brief-result-descriptive-'+div_id).html('\
				<tr>\
					<th colspan="2">Subjective Section<th>\
				</tr>\
				<tr>\
					<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Average Percentage</td>\
					<td>'+$('#applicant-descriptive-percentage-'+div_id).html()+'</td>\
				</tr>');
		}
		
		if($('#' + 'table-video-problems-' + div_id).length){
			$('#tbody-brief-result-video-'+div_id).html('\
			<tr>\
				<th colspan="2">Video Section<th>\
			</tr>\
			<tr>\
				<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recruiters Remark</td>\
				<td>'+$('#recruiters-remark-text-' + div_id).html()+'</td>\
			</tr>');
		}
		
		doc.autoTable({
			html: '#' + 'table-brief-result-' + div_id,
			columnStyles: {
				0: { cellWidth: 90 },
				1: { cellWidth: 91 },
			}
		});

		objective_tables = document.getElementById('hidden-attempted-quiz-result-content-' + div_id).getElementsByTagName('table');

		console.log(doc.internal.pageSize.getWidth());

		console.log(objective_tables);

<!--		doc.autoTable({-->
<!--			html: '#' + objective_tables[0].id,-->
<!--			columnStyles: {-->
<!--				0: { cellWidth: 15 },-->
<!--				1: { cellWidth: 20 },-->
<!--				2: { cellWidth: 80 },-->
<!--				3: { cellWidth: 23 },-->
<!--				4: { cellWidth: 23 },-->
<!--				5: { cellWidth: 20 },-->
<!--			}-->
<!--		});-->

		for (let i = 0; i < objective_tables.length; i++) {
			console.log('#' + objective_tables[i].id)
			doc.autoTable({
				html: '#' + objective_tables[i].id,
				columnStyles: {
					0: { cellWidth: 15 },
					1: { cellWidth: 20 },
					2: { cellWidth: 80 },
					3: { cellWidth: 23 },
					4: { cellWidth: 23 },
					5: { cellWidth: 20 },
				}
			});
		}
		if($('#' + 'table-descriptive-problems-' + div_id).length){	
		doc.autoTable({
			html: '#' + 'table-descriptive-problems-' + div_id,
			columnStyles: {
				0: { cellWidth: 50 },
				1: { cellWidth: 131 },
			}
		});}
		
		if($('#' + 'table-video-problems-' + div_id).length){
		
		$('#tbody-video-problems-' + div_id).append('\
		<tr>\
			<th>Recruiters Remarks</th>\
			<th>'+ $('#recruiters-remark-text-' + div_id).html() + '</th>\
		</tr>');


		doc.autoTable({
			html: '#' + 'table-video-problems-' + div_id,
			columnStyles: {
				0: { cellWidth: 50 },
				1: { cellWidth: 131 },
			}
		});
		}
		doc.save('{{applicant_obj.name}}-'+$('#quiz-title-' + div_id).html()+'.pdf');
	}
</script>

{% endblock %}

